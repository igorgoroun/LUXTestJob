Как по мне, так это задача не совсем для php, поэтому у меня два решения :)